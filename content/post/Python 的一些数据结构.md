+++

title = "Python 的一些数据结构"
date = 2017-01-01T23:48:57+08:00
categories = ["读书笔记"]
toc = true
author = "ElvisSong"
author_homepage =  "https://elvissong.github.io/post/"
+++

###  Python 的一些数据结构

### 列表
#### 列表的一些内置函数
> list.append(x)

把一个元素添加到列表的结尾，相当于 a[len(a):] = [x]。

> list.extend(L)

将一个给定列表中的所有元素都添加到另一个列表中，相当于 a[len(a):] = L。

> list.insert(i, x)

在指定位置插入一个元素。第一个参数是准备插入到其前面的那个元素的索引，例如 a.insert(0, x) 会插入到整个列表之前，而 a.insert(len(a), x) 相当于 a.append(x)。

> list.remove(x)

删除列表中值为 x 的第一个元素。如果没有这样的元素，就会返回一个错误。

> list.pop([i])

从列表的指定位置删除元素，并将其返回。如果没有指定索引，a.pop() 返回最后一个元素。元素随即从列表中被删除（方法中 i 两边的方括号表示这个参数是可选的，而不是要求你输入一对方括号，你会经常在Python 库参考手册中遇到这样的标记）。

> list.clear()

从列表中删除所有元素。相当于 del a[:]。

> list.index(x)

返回列表中第一个值为 x 的元素的索引。如果没有匹配的元素就会返回一个错误。

> list.count(x)

返回 x 在列表中出现的次数。

> list.sort()

对列表中的元素就地进行排序。

> list.reverse()

就地倒排列表中的元素。

> list.copy()

返回列表的一个浅拷贝。等同于 a[:]。

#### 把列表当作堆栈
列表方法使得列表可以很方便的做为一个堆栈来使用，堆栈作为特定的数据结构，最先进入的元素最后一个被释放（后进先出）。用 append() 方法可以把一个元素添加到堆栈顶。用不指定索引的 pop() 方法可以把一个元素从堆栈顶释放出来。

#### 把列表当作队列
你也可以把列表当做队列使用，队列作为特定的数据结构，最先进入的元素最先释放（先进先出）。不过，列表这样用效率不高。相对来说从列表末尾添加和弹出很快；在头部插入和弹出很慢（因为，为了一个元素，要移动整个列表中的所有元素）。

要实现队列，使用 collections.deque，它为在首尾两端快速插入和删除而设计。

```
In [30]: from collections import deque

In [31]: queue = deque(["Eric", "John", "Michael"])

In [32]: queue.append("Terry")

In [33]: queue
Out[33]: deque(['Eric', 'John', 'Michael', 'Terry'])

In [34]: queue.appendleft("Song")

In [35]: queue
Out[35]: deque(['Song', 'Eric', 'John', 'Michael', 'Terry'])

In [36]: queue.pop()
Out[36]: 'Terry'

In [37]: queue.popleft()
Out[37]: 'Song'

In [38]: queue
Out[38]: deque(['Eric', 'John', 'Michael'])

```

### del 语句
有个方法可以从列表中按给定的索引而不是值来删除一个子项： del 语句。它不同于有返回值的 pop() 方法。语句 del 还可以从列表中删除切片或清空整个列表。

```
In [39]:  a = [-1, 1, 66.25, 333, 333, 1234.5]

In [40]: del a[0]

In [41]: a
Out[41]: [1, 66.25, 333, 333, 1234.5]

In [42]: del a[3:4]

In [43]: a
Out[43]: [1, 66.25, 333, 1234.5]

In [44]: del a[:]

In [45]: a
Out[45]: []

```

del 也可以用来删除变量，但是之后的引用就会报错，除非重新赋值。

### 元组
元组在输出时总是有括号的，以便于正确表达嵌套结构。在输入时可以有或没有括号，不过经常括号都是必须的（如果元组是一个更大的表达式的一部分）。不能给元组的一个独立的元素赋值（尽管你可以通过联接和切割来模拟）。还可以创建包含可变对象的元组，例如列表。

虽然元组和列表很类似，它们经常被用来在不同的情况和不同的用途。元组有很多用途。例如 (x, y) 坐标对，数据库中的员工记录等等。元组就像字符串， 不可变的。通常包含不同种类的元素并通过分拆（参阅本节后面的内容) 或索引访问（如果是 namedtuples，甚至可以通过属性）。列表是 可变的 ，它们的元素通常是相同类型的并通过迭代访问。

一个特殊的问题是构造包含零个或一个元素的元组：为了适应这种情况，语法上有一些额外的改变。一对空的括号可以创建空元组；要创建一个单元素元组可以在值后面跟一个逗号（在括号中放入一个单值不够明确）。丑陋，但是有效。

```
In [53]: t = 'hello', 'world', '!'

In [54]: t[0]
Out[54]: 'hello'

In [55]: t
Out[55]: ('hello', 'world', '!')

In [56]: u = t, ('hello', 'python', '!')

In [57]: u
Out[57]: (('hello', 'world', '!'), ('hello', 'python', '!'))

In [58]: t[1] = 1
---------------------------------------------------------------------------
TypeError                                 Traceback (most recent call last)
<ipython-input-58-d6b0ce29b2aa> in <module>()
----> 1 t[1] = 1

TypeError: 'tuple' object does not support item assignment

```

### 集合
集合是一个无序不重复元素的集。基本功能包括关系测试和消除重复元素。集合对象还支持 union（联合），intersection（交），difference（差）和 sysmmetric difference（对称差集）等数学运算。

大括号或 set() 函数可以用来创建集合。注意：想要创建空集合，你必须使用 set() 而不是 {}。

### 字典
字典在某些语言中可能称为 联合内存 （ associative memories ）或 联合数组 （ associative arrays ）。序列是以连续的整数为索引，与此不同的是，字典以 关键字 为索引，关键字可以是任意不可变类型，通常用字符串或数值。如果元组中只包含字符串和数字，它可以做为关键字，如果它直接或间接的包含了可变对象，就不能当做关键字。不能用列表做关键字，因为列表可以用索引、切割或者 append() 和 extend() 等方法改变。

理解字典的最佳方式是把它看做无序的键： 值对 （key:value 对）集合，键必须是互不相同的（在同一个字典之内）。一对大括号创建一个空的字典： {} 。初始化列表时，在大括号内放置一组逗号分隔的键：值对，这也是字典输出的方式。

字典的主要操作是依据键来存储和析取值。也可以用 del 来删除键：值对（key:value）。如果你用一个已经存在的关键字存储值，以前为该关键字分配的值就会被遗忘。试图从一个不存在的键中取值会导致错误。

对一个字典执行 list(d.keys()) 将返回一个字典中所有关键字组成的无序列表（如果你想要排序，只需使用 sorted(d.keys()) ）。使用 in 关键字（指Python语法）可以检查字典中是否存在某个关键字（指字典）。

